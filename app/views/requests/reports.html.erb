<p style="color: green"><%= notice %></p>

<div class="form-group"> 
  <h4>Filtros</h4>
  <%= form_tag reports_path, method: :get do %>
    <p>
        <%= label :year, "Fecha", style: "display: block" %>
        <%= date_select :request_year, "request_year", options = { :include_blank => true, :start_year => 1990, :end_year => Date.current.year, :selected => { :year => @year.to_i, :month => @month.to_i, :day => @day.to_i } } %>
    </p>
    <br>
    <%= submit_tag "Filtrar", :name => "reportsfilter" %>
  <% end %>
</div>

<div data-controller="checkbox-filter" data-checkbox-filter-url="<%= request_filter_path %>">
  <div class="form-group" id="filters">
    <input name="filter" value="denied" type="checkbox" data-action="checkbox-filter#change" />Rechazadas

    <input name="filter" value="pending" type="checkbox" data-action="checkbox-filter#change" />Pendientes

    <input name="filter" value="finished" type="checkbox" data-action="checkbox-filter#change" />Finalizadas

    <input name="filter" value="outsourcing" type="checkbox" data-action="checkbox-filter#change" />Contrataci√≥n Externa
  </div>

  <div id="requests" class="request-table">
    <div class="row">
      <div class="col-9" data-checkbox-filter-target="elements">  
        <%= render partial: 'report_list', locals: { requests: @requests} %>
      </div>
    </div>
  </div>
</div>

<%= link_to "Regresar a solicitudes", requests_path %>
